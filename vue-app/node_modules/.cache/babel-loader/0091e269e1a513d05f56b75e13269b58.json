{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\n// discussion avec le serveur\nimport { resolve } from \"core-js/fn/promise\";\nconst _products = [{\n  'id': 1,\n  'name': 'product 1',\n  'price': 5.00,\n  'provider': '1',\n  'inventory': '5'\n}, {\n  'id': 2,\n  'name': 'product 2',\n  'price': 4.00,\n  'provider': '2',\n  'inventory': '5'\n}, {\n  'id': 3,\n  'name': 'product 3',\n  'price': 7.00,\n  'provider': '2',\n  'inventory': '5'\n}, {\n  'id': 4,\n  'name': 'product 4',\n  'price': 8.00,\n  'provider': '3',\n  'inventory': '5'\n}, {\n  'id': 5,\n  'name': 'product 5',\n  'price': 1.00,\n  'provider': '3',\n  'inventory': '5'\n}, {\n  'id': 6,\n  'name': 'product 6',\n  'price': 6.00,\n  'provider': '3',\n  'inventory': '5'\n}];\nexport default {\n  async getProducts(provider) {\n    await wait(100);\n    return _products.find(product => product.provider === provider.id);\n  },\n\n  async buyProducts(product) {\n    await wait(100);\n\n    if (Math.random() > 0.2 || navigator.webdriver) {\n      return;\n    } else {\n      throw new Error('Checkout error');\n    }\n  },\n\n  async getProviders() {\n    await wait(100);\n    providers = [];\n\n    for (let index = 0; index < _products.length; index++) {\n      providers[index] = _products[index]['provider'];\n    }\n\n    const uniqueProviders = [...new Set(providers)];\n    return uniqueProviders;\n  }\n\n};\n\nfunction wait(ms) {\n  return new Promise(resolve => {\n    setTimeout(resolve, ms);\n  });\n}","map":{"version":3,"names":["resolve","_products","getProducts","provider","wait","find","product","id","buyProducts","Math","random","navigator","webdriver","Error","getProviders","providers","index","length","uniqueProviders","Set","ms","Promise","setTimeout"],"sources":["/Users/charles/Documents/MicroFrontEnd/bistro/src/api/shop.js"],"sourcesContent":["// discussion avec le serveur\n\nimport { resolve } from \"core-js/fn/promise\"\n\nconst _products = [\n    {'id' : 1, 'name' : 'product 1', 'price' : 5.00, 'provider' : '1', 'inventory' : '5'},\n    {'id' : 2, 'name' : 'product 2', 'price' : 4.00, 'provider' : '2', 'inventory' : '5'},\n    {'id' : 3, 'name' : 'product 3', 'price' : 7.00, 'provider' : '2', 'inventory' : '5'},\n    {'id' : 4, 'name' : 'product 4', 'price' : 8.00, 'provider' : '3', 'inventory' : '5'},\n    {'id' : 5, 'name' : 'product 5', 'price' : 1.00, 'provider' : '3', 'inventory' : '5'},\n    {'id' : 6, 'name' : 'product 6', 'price' : 6.00, 'provider' : '3', 'inventory' : '5'}\n]\n\nexport default {\n    async getProducts(provider) {\n        await wait(100)\n        return _products.find(product => product.provider === provider.id)\n    },\n\n    async buyProducts(product) {\n        await wait(100)\n        if((Math.random() > 0.2 || navigator.webdriver)) {\n            return \n        } else {\n            throw new Error('Checkout error')\n        }\n    },\n\n    async getProviders() {\n        await wait(100)\n        providers = []\n        for (let index = 0; index < _products.length; index++) {\n            providers[index] = _products[index]['provider'];\n        }\n        const uniqueProviders = [...new Set(providers)]\n        return uniqueProviders\n    }\n}\n\nfunction wait (ms) {\n    return new Promise(resolve => {\n        setTimeout(resolve, ms)\n    })\n}"],"mappings":";AAAA;AAEA,SAASA,OAAT,QAAwB,oBAAxB;AAEA,MAAMC,SAAS,GAAG,CACd;EAAC,MAAO,CAAR;EAAW,QAAS,WAApB;EAAiC,SAAU,IAA3C;EAAiD,YAAa,GAA9D;EAAmE,aAAc;AAAjF,CADc,EAEd;EAAC,MAAO,CAAR;EAAW,QAAS,WAApB;EAAiC,SAAU,IAA3C;EAAiD,YAAa,GAA9D;EAAmE,aAAc;AAAjF,CAFc,EAGd;EAAC,MAAO,CAAR;EAAW,QAAS,WAApB;EAAiC,SAAU,IAA3C;EAAiD,YAAa,GAA9D;EAAmE,aAAc;AAAjF,CAHc,EAId;EAAC,MAAO,CAAR;EAAW,QAAS,WAApB;EAAiC,SAAU,IAA3C;EAAiD,YAAa,GAA9D;EAAmE,aAAc;AAAjF,CAJc,EAKd;EAAC,MAAO,CAAR;EAAW,QAAS,WAApB;EAAiC,SAAU,IAA3C;EAAiD,YAAa,GAA9D;EAAmE,aAAc;AAAjF,CALc,EAMd;EAAC,MAAO,CAAR;EAAW,QAAS,WAApB;EAAiC,SAAU,IAA3C;EAAiD,YAAa,GAA9D;EAAmE,aAAc;AAAjF,CANc,CAAlB;AASA,eAAe;EACX,MAAMC,WAAN,CAAkBC,QAAlB,EAA4B;IACxB,MAAMC,IAAI,CAAC,GAAD,CAAV;IACA,OAAOH,SAAS,CAACI,IAAV,CAAeC,OAAO,IAAIA,OAAO,CAACH,QAAR,KAAqBA,QAAQ,CAACI,EAAxD,CAAP;EACH,CAJU;;EAMX,MAAMC,WAAN,CAAkBF,OAAlB,EAA2B;IACvB,MAAMF,IAAI,CAAC,GAAD,CAAV;;IACA,IAAIK,IAAI,CAACC,MAAL,KAAgB,GAAhB,IAAuBC,SAAS,CAACC,SAArC,EAAiD;MAC7C;IACH,CAFD,MAEO;MACH,MAAM,IAAIC,KAAJ,CAAU,gBAAV,CAAN;IACH;EACJ,CAbU;;EAeX,MAAMC,YAAN,GAAqB;IACjB,MAAMV,IAAI,CAAC,GAAD,CAAV;IACAW,SAAS,GAAG,EAAZ;;IACA,KAAK,IAAIC,KAAK,GAAG,CAAjB,EAAoBA,KAAK,GAAGf,SAAS,CAACgB,MAAtC,EAA8CD,KAAK,EAAnD,EAAuD;MACnDD,SAAS,CAACC,KAAD,CAAT,GAAmBf,SAAS,CAACe,KAAD,CAAT,CAAiB,UAAjB,CAAnB;IACH;;IACD,MAAME,eAAe,GAAG,CAAC,GAAG,IAAIC,GAAJ,CAAQJ,SAAR,CAAJ,CAAxB;IACA,OAAOG,eAAP;EACH;;AAvBU,CAAf;;AA0BA,SAASd,IAAT,CAAegB,EAAf,EAAmB;EACf,OAAO,IAAIC,OAAJ,CAAYrB,OAAO,IAAI;IAC1BsB,UAAU,CAACtB,OAAD,EAAUoB,EAAV,CAAV;EACH,CAFM,CAAP;AAGH"},"metadata":{},"sourceType":"module"}